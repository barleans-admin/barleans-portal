<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home | Barlean's Portal</title>
    <link href="/styles.css" rel="stylesheet" type="text/css">
    <script src="/site-template.js" type="module" defer></script>
</head>

<body>
    <nav></nav>
    <main>
        <h1 id="welcome-message"></h1>
    </main>

    <script>
        async function getUserInfo() {
            const response = await fetch('/.auth/me');
            const user = await response.json();
            const welcomeElement = document.getElementById('welcome-message');

            welcomeElement.textContent = "Welcome, " + user.clientPrincipal.userDetails + "!";
        }

        getUserInfo();
    </script>
</body>

</html>